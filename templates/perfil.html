{% extends "base.html" %}
{% block content %}

<div class="container mt-4">

<h3 class="text-success fw-bold mb-4">Tarjeta de Salud - Perfil del Usuario</h3>

<form class="row g-3" method="POST" action="{{ url_for('perfil') }}">
    <div class="col-md-6">
        <label for="nombre" class="form-label">Nombre Completo</label>
        <input type="text" class="form-control" id="nombre" name="nombre" value="{{ datos.nombre if datos.nombre else '' }}">
    </div>
    <div class="col-md-3">
        <label for="edad" class="form-label">Edad</label>
        <input type="number" class="form-control" id="edad" name="edad" value="{{ datos.edad if datos.edad else '' }}">
    </div>
    <div class="col-md-3">
        <label for="sexo" class="form-label">Sexo</label>
        <select class="form-select" id="sexo" name="sexo">
            <option value="Masculino" {% if datos.sexo == 'Masculino' %}selected{% endif %}>Masculino</option>
            <option value="Femenino" {% if datos.sexo == 'Femenino' %}selected{% endif %}>Femenino</option>
            <option value="Personalizado" {% if datos.sexo == 'Personalizado' %}selected{% endif %}>Personalizado</option>
        </select>
    </div>
    <div class="col-md-3">
        <label for="peso" class="form-label">Peso Actual (kg)</label>
        <input type="number" class="form-control" id="peso" name="peso" step="0.1" value="{{ datos.peso if datos.peso else '' }}">
    </div>
    <div class="col-md-3">
        <label for="altura" class="form-label">Altura (cm)</label>
        <input type="number" class="form-control" id="altura" name="altura" value="{{ datos.altura if datos.altura else '' }}">
    </div>
    <div class="col-md-6">
        <label for="objetivo" class="form-label">Objetivo Principal</label>
        <select class="form-select" id="objetivo" name="objetivo">
            <option value="Perder peso" {% if datos.objetivo == 'Perder peso' %}selected{% endif %}>Perder peso</option>
            <option value="Mantener peso" {% if datos.objetivo == 'Mantener peso' %}selected{% endif %}>Mantener peso</option>
            <option value="Ganar masa muscular" {% if datos.objetivo == 'Ganar masa muscular' %}selected{% endif %}>Ganar masa muscular</option>
            <option value="Mejorar digestión" {% if datos.objetivo == 'Mejorar digestión' %}selected{% endif %}>Mejorar digestión</option>
            <option value="Controlar condición" {% if datos.objetivo == 'Controlar condición' %}selected{% endif %}>Controlar condición</option>
        </select>
    </div>
    
    <div class="col-12 mt-4">
        <h5 class="text-success">Información Adicional</h5>
        <div class="row">
            <div class="col-md-6">
                <p><strong>Email:</strong> {{ datos.email if datos.email else 'No especificado' }}</p>
                <p><strong>Fecha de Nacimiento:</strong> {{ datos.fecha_nacimiento if datos.fecha_nacimiento else 'No especificado' }}</p>
                <p><strong>Actividad Física:</strong> {{ datos.actividad_fisica if datos.actividad_fisica else 'No especificado' }}</p>
                <p><strong>Dieta Específica:</strong> {{ datos.dieta_especifica if datos.dieta_especifica else 'No especificado' }}</p>
            </div>
            <div class="col-md-6">
                <p><strong>Experiencia en Cocina:</strong> {{ datos.experiencia_cocina if datos.experiencia_cocina else 'No especificado' }}</p>
                <p><strong>Todos los Objetivos:</strong> {{ datos.objetivos|join(', ') if datos.objetivos else 'Ninguno' }}</p>
                <p><strong>Alergias:</strong> {{ datos.alergias|join(', ') if datos.alergias else 'Ninguna' }}</p>
                <p><strong>Intolerancias:</strong> {{ datos.intolerancias|join(', ') if datos.intolerancias else 'Ninguna' }}</p>
            </div>
        </div>
    </div>
    
    <div class="col-12">
        <button type="submit" class="btn btn-success">Guardar Cambios</button>
    </div>
</form>

</div>

{% endblock %}